<div class="my-background-image">
    <!-- reset password confirmation modal-->
    <p-dialog [(visible)]="visible" [modal]="true" [style]="{ width: '20vw' }" [draggable]="false" [resizable]="false"
        [closable]="true">
        <div class="prompt">
            <div *ngIf="message?.status">
                <div style="text-align: center;">
                    <svg class='report' xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        width="96" height="96" viewBox="0 0 96 96">
                        <defs>
                            <clipPath id="clip-path">
                                <rect id="Rectangle_59563" data-name="Rectangle 59563" width="96" height="96"
                                    fill="none" />
                            </clipPath>
                        </defs>
                        <g id="Group_61540" data-name="Group 61540" transform="translate(0 0)">
                            <g id="Group_61539" data-name="Group 61539" transform="translate(0 0)"
                                clip-path="url(#clip-path)">
                                <path id="Path_136460" data-name="Path 136460"
                                    d="M96,48A48,48,0,1,1,48,0,48,48,0,0,1,96,48" transform="translate(0 -0.001)"
                                    fill="#7AC142" />
                                <path id="Path_136461" data-name="Path 136461"
                                    d="M35.6,60.7,11.587,38.734a3.6,3.6,0,1,1,4.86-5.312l18.29,16.735L62.49,14.948a3.6,3.6,0,0,1,5.654,4.457Z"
                                    transform="translate(8.333 10.862)" fill="#fff" />
                            </g>
                        </g>
                    </svg>
                </div>
                <div style="text-align: center;">
                    <h5>{{message?.message}}</h5>
                </div>
            </div>

            <div *ngIf="!message?.status">
                <div style="text-align: center;">
                    <svg class='report' xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        version="1.1" id="Layer_1" x="0px" y="0px" width="122.88px" height="122.879px"
                        viewBox="0 0 122.88 122.879" enable-background="new 0 0 122.88 122.879" xml:space="preserve">
                        <g>
                            <path fill="#FF4141"
                                d="M61.44,0c16.96,0,32.328,6.882,43.453,17.986c11.104,11.125,17.986,26.494,17.986,43.453 c0,16.961-6.883,32.328-17.986,43.453C93.769,115.998,78.4,122.879,61.44,122.879c-16.96,0-32.329-6.881-43.454-17.986 C6.882,93.768,0,78.4,0,61.439C0,44.48,6.882,29.111,17.986,17.986C29.112,6.882,44.48,0,61.44,0L61.44,0z M73.452,39.152 c2.75-2.792,7.221-2.805,9.986-0.026c2.764,2.776,2.775,7.292,0.027,10.083L71.4,61.445l12.077,12.25 c2.728,2.77,2.689,7.256-0.081,10.021c-2.772,2.766-7.229,2.758-9.954-0.012L61.445,71.541L49.428,83.729 c-2.75,2.793-7.22,2.805-9.985,0.025c-2.763-2.775-2.776-7.291-0.026-10.082L51.48,61.435l-12.078-12.25 c-2.726-2.769-2.689-7.256,0.082-10.022c2.772-2.765,7.229-2.758,9.954,0.013L61.435,51.34L73.452,39.152L73.452,39.152z M96.899,25.98C87.826,16.907,75.29,11.296,61.44,11.296c-13.851,0-26.387,5.611-35.46,14.685 c-9.073,9.073-14.684,21.609-14.684,35.459s5.611,26.387,14.684,35.459c9.073,9.074,21.609,14.686,35.46,14.686 c13.85,0,26.386-5.611,35.459-14.686c9.073-9.072,14.684-21.609,14.684-35.459S105.973,35.054,96.899,25.98L96.899,25.98z" />
                        </g>
                    </svg>
                </div>
                <div style="text-align: center;">
                    <h5>{{message?.message}}</h5>
                </div>
            </div>
        </div>
    </p-dialog>

    <div
        class="surface-card flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden roboto-font">
        <div class="grid justify-content-center p-2 lg:p-0" style="min-width: 60%">
            <div class="card shadow-2 surface-card w-full lg:w-5 pt-8">
                <div class="text-left mb-5">
                    <div class="text-800 mb-2 text-3xl font-medium">
                        <span class="black-font"><strong>Register to Mlailkpc Portal</strong></span>
                    </div>
                    <span class="black-font">Please create an account here</span>

                    @if (declined) {
                    <div class="alert alert-danger" role="alert">
                        <p-messages [(value)]="msg" [enableService]="false"></p-messages>
                    </div>
                    }
                </div>


                <form class="" [formGroup]="registrationForm">

                    <div class="p-fluid">
                        <div class="field">
                            <label for="email1" class="block text-900 font-medium mb-2">Full Name</label>
                            <input id="full_name" formControlName="full_name" placeholder="Full Name" type="text"
                                pInputText class="w-full mb-3" [class]="
                            registrationFormControls['full_name'].invalid &&
                            registrationFormControls['full_name'].touched ? 'ng-dirty ng-invalid' : '' " />
                            <div *ngIf="registrationFormControls['full_name'].invalid &&
                                registrationFormControls['full_name'].touched" class="text-danger">
                                <small *ngIf="registrationFormControls['full_name'].errors?.['required']">Name is
                                    required</small>
                                <small *ngIf="registrationFormControls['full_name'].errors?.['minlength']">Invalid
                                    name</small>
                            </div>
                        </div>
                        <div class="field">
                            <label for="email_address" class="block text-900 font-medium mb-2">Email</label>
                            <input id="email_address" formControlName="email_address" placeholder="Login Email"
                                type="email" pInputText class="w-full mb-3" [class]="
                            registrationFormControls['email_address'].invalid &&
                            registrationFormControls['email_address'].touched ? 'ng-dirty ng-invalid' : '' " />
                            <div *ngIf="registrationFormControls['email_address'].invalid &&
                        registrationFormControls['email_address'].touched" class="text-danger">
                                <small *ngIf="registrationFormControls['email_address'].errors?.['required']">Email
                                    Address
                                    is
                                    required</small>
                                <small *ngIf="registrationFormControls['email_address'].errors?.['email']">Invalid
                                    Email Address</small>
                            </div>
                        </div>
                        <div class="field">
                            <label for="phone_number" class="block text-900 font-medium mb-2">Phone Number</label>
                            <input id="phone_number" placeholder="Phone Number" formControlName="phone_number"
                                type="text" pInputText class="w-full mb-3" [class]="
                            registrationFormControls['phone_number'].invalid &&
                            registrationFormControls['phone_number'].touched ? 'ng-dirty ng-invalid' : '' " />
                            <div *ngIf="registrationFormControls['phone_number'].invalid &&
                                            registrationFormControls['phone_number'].touched" class="text-danger">
                                <small *ngIf="registrationFormControls['phone_number'].errors?.['required']">phone
                                    Number
                                    is
                                    required</small>
                                <small *ngIf="registrationFormControls['phone_number'].errors?.['minlength']">Invalid
                                    phone Number</small>
                            </div>
                        </div>
                        <div class="field">
                            <label for="gender" class="block text-900 font-medium mb-2">Gender</label>
                            <p-dropdown [options]="genders" formControlName="gender" class="w-full mb-3"
                                placeholder="Select Gender" [class]="
                            registrationFormControls['gender'].invalid &&
                            registrationFormControls['gender'].touched ? 'ng-dirty ng-invalid' : '' " />
                            <div *ngIf="registrationFormControls['gender'].invalid &&
                            registrationFormControls['gender'].touched" class="text-danger">
                                <small *ngIf="registrationFormControls['gender'].errors?.['required']">Gender is
                                    required</small>
                            </div>
                        </div>
                        <div class="field">
                            <label for="category_uid" class="block text-900 font-medium mb-2">Student Category</label>
                            <p-dropdown [options]="studentCategories" [filter]="true" filterBy="name"
                                formControlName="category_uid" optionLabel="name" optionValue="uid" class="w-full mb-3"
                                placeholder="Select Student Category" [class]="
                            registrationFormControls['category_uid'].invalid &&
                            registrationFormControls['category_uid'].touched ? 'ng-dirty ng-invalid' : '' " />
                            <div *ngIf="registrationFormControls['category_uid'].invalid &&
                            registrationFormControls['category_uid'].touched" class="text-danger">
                                <small *ngIf="registrationFormControls['category_uid'].errors?.['required']">Student
                                    Category is
                                    required</small>
                            </div>
                        </div>

                        <div class="flex align-items-center justify-content-between mb-6">
                            <div class="flex align-items-center">
                                <p-checkbox id="rememberme1" [binary]="true" styleClass="mr-2"></p-checkbox>
                                <label for="rememberme1" class="text-900">Remember me</label>
                            </div>
                            <a class="font-medium no-underline ml-2 grey-font text-right cursor-pointer"
                                routerLink="/auth/login"><strong>Back to Login</strong></a>
                        </div>

                        <button pButton pRipple label="Register" (click)="signup()"
                            [disabled]="registrationForm.invalid"
                            class="w-full mb-3 green-white-btn p-button-success"></button>
                    </div>
                </form>
            </div>
        </div>

        <!-- confirmation page -->
        <div class="grid justify-content-center p-2 lg:p-0" style="min-width: 60%" *ngIf="complete">
            <div class="surface-card w-full lg:w-6 pt-8">
                <div *ngIf="message?.status">
                    <div style="text-align: center;" class="mb-3">

                        <svg class="report" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 117.72 117.72"
                            style="enable-background:new 0 0 117.72 117.72" xml:space="preserve">
                            <style type="text/css">
                            </style>
                            <g>
                                <path style="fill: #01A601"
                                    d="M58.86,0c9.13,0,17.77,2.08,25.49,5.79c-3.16,2.5-6.09,4.9-8.82,7.21c-5.2-1.89-10.81-2.92-16.66-2.92 c-13.47,0-25.67,5.46-34.49,14.29c-8.83,8.83-14.29,21.02-14.29,34.49c0,13.47,5.46,25.66,14.29,34.49 c8.83,8.83,21.02,14.29,34.49,14.29s25.67-5.46,34.49-14.29c8.83-8.83,14.29-21.02,14.29-34.49c0-3.2-0.31-6.34-0.9-9.37 c2.53-3.3,5.12-6.59,7.77-9.85c2.08,6.02,3.21,12.49,3.21,19.22c0,16.25-6.59,30.97-17.24,41.62 c-10.65,10.65-25.37,17.24-41.62,17.24c-16.25,0-30.97-6.59-41.62-17.24C6.59,89.83,0,75.11,0,58.86 c0-16.25,6.59-30.97,17.24-41.62S42.61,0,58.86,0L58.86,0z M31.44,49.19L45.8,49l1.07,0.28c2.9,1.67,5.63,3.58,8.18,5.74 c1.84,1.56,3.6,3.26,5.27,5.1c5.15-8.29,10.64-15.9,16.44-22.9c6.35-7.67,13.09-14.63,20.17-20.98l1.4-0.54H114l-3.16,3.51 C101.13,30,92.32,41.15,84.36,52.65C76.4,64.16,69.28,76.04,62.95,88.27l-1.97,3.8l-1.81-3.87c-3.34-7.17-7.34-13.75-12.11-19.63 c-4.77-5.88-10.32-11.1-16.79-15.54L31.44,49.19L31.44,49.19z" />
                            </g>
                        </svg>
                    </div>
                    <div class="text-900 text-4xl font-bold mb-3">
                        <h2 style="text-align: center;" class="black-font">Password reset</h2>
                    </div>
                    <div style="text-align: center;" class="mb-3">
                        <h5>{{message?.message}}</h5>
                        <h5>Click continue to login</h5>
                    </div>

                    <div style="text-align: center;">
                        <button pButton pRipple label="Continue" class="w-6 mb-3 green-white-btn p-button-success"
                            (click)="continue()"></button>
                    </div>

                </div>
            </div>
        </div>

    </div>

</div>
